// @todo only allow ecms-base to call this func
@mixin gen-theme-and-variant-props($colorMap, $names, $indicesMap) {
  $i: 1;

  @each $n in $names {
    $quotedN: quote($n);
    @if $i == 1 {
      &,
      &[theme~="#{$n}"] {
        $j: 1;
        // RGB colors
        @each $tuple in $indicesMap {
          $iKey: quote(nth($tuple, 1));
          --ecms-theme-color-#{$j}: #{map-get($colorMap, $quotedN + "-" + $iKey)};
          $j: $j + 1;
        }

        $j: 1;
        // RGBA colors
        @each $tuple in $indicesMap {
          $iKey: quote(nth($tuple, 1));
          --ecms-theme-color-rgba-#{$j}: #{map-get($colorMap, $quotedN + "-rgba-" + $iKey)};
          $j: $j + 1;
        }
      }
    } @else {
      &[theme~="#{$n}"] {
        $j: 1;
        // RGB colors
        @each $tuple in $indicesMap {
          $iKey: quote(nth($tuple, 1));
          --ecms-theme-color-#{$j}: #{map-get($colorMap, $quotedN + "-" + $iKey)};
          $j: $j + 1;
        }

        $j: 1;
        // RGBA colors
        @each $tuple in $indicesMap {
          $iKey: quote(nth($tuple, 1));
          --ecms-theme-color-rgba-#{$j}: #{map-get($colorMap, $quotedN + "-rgba-" + $iKey)};
          $j: $j + 1;
        }
      }
    }
    $i: $i + 1;
  }
}
