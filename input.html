<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Input - Atomic Js UI</title>
  <link rel="stylesheet" href="css/index.stories.css"/>
  <link rel="stylesheet" href="css/modules/material-design/index.css"/>
  <link rel="stylesheet" href="x-ripple/index.css"/>
  <style>
    .leading,
    .trailing {
      padding: 0;
      font-weight: normal;
    }

    section > article {
      border-top: none;
    }
  </style>
</head>
<body>
<script type="module">
  // All HTMLInputElement types
  // ----
  const inputTypes = [
      'button',
      'checkbox',
      'color',
      'date',
      'datetime-local',
      'email',
      'file',
      'hidden',
      'image',
      'month',
      'number',
      'password',
      'radio',
      'range',
      'reset',
      'search',
      'submit',
      'tel',
      'text',
      'time',
      'url',
      'week'
    ],

    elementsConfig = inputTypes.map(type => {
      let options = null;

      switch (type) {
        case 'button':
        case 'image':
        case 'submit':
        case 'reset':
          return [type, {value: type[0].toUpperCase() + type.substring(1)}];
        case 'hidden':
          break;
        case 'date':
          options = {showReadonly: true, readonly2Value: '2023-05-01'};
          break;
        case 'datetime-local':
          options = {showReadonly: true, readonly2Value: '2023-05-10T11:59'};
          break;
        case 'time':
          options = {showReadonly: true, readonly2Value: '11:59'};
          break;
        case 'number':
          options = {showReadonly: true, readonly2Value: '1000'};
          break;
        case 'email':
          options = {showReadonly: true, readonly2Value: 'hello@hello.com'};
          break;
        default:
          options = {showReadonly: true, readonly2Value: 'Readonly'};
          break;
      }

      return [type, options];
    }),
    out = document.createElement('section')
  ;
  out.classList.add('x-flex', 'x-flex-row-wrap')
  out.innerHTML += `
  <article>
    <header>
      <h3>Inputs controls with decorators</h3>
    </header>

    <form action="#">
      <fieldset class="x-grid x-fieldset x-fieldset--grid-2">
        ${elementsConfig.reduce((agg, [type, elementOptions]) => {

    const {showReadonly, readonly2Value, value} = elementOptions ?? {},
      isRadioOrCheckbox = type === 'radio' || type === 'checkbox',
      name = `${type}-2`,
      humanReadableName = type[0].toUpperCase() + type.substring(1);

    return agg +
      `<label for="${name}">${humanReadableName}</label>` +
      `<div class="x-input"><input type="${type}" name="${name}" id="${name}" value="${value ?? ''}"></div>` +
      (isRadioOrCheckbox ?
          `<label for="${name}-checked">${humanReadableName} (checked)</label>` +
          `<div class="x-input"><input type="${type}" name="${name}-checked" id="${name}-checked" checked></div>` :
          ''
      ) +
      (showReadonly || isRadioOrCheckbox ?
          `<label for="${name}-readonly">${humanReadableName} (readonly)</label>` +
          `<div class="x-input"><input type="${type}" name="${name}-readonly" id="${name}-readonly" value="${value || readonly2Value}" readonly
            ${isRadioOrCheckbox ? 'checked' : ''}></div>` :
          ''
      ) +
      `<label for="${name}-disabled">${humanReadableName} (disabled)</label>` +
      `<div class="x-input"><input type="${type}" name="${name}-disabled" id="${name}-disabled" value="${value ?? ''}" disabled></div>`
      ;
  }, '')}
      </fieldset>
      <fieldset class="x-grid x-fieldset--grid-2">
        <label for="select-1">Textarea</label>
        <div class="x-input">
          <select name="select-1" id="select-1">
            <option value="NaN">-- Select an option --</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
          </select>
        </div>
        <label for="textarea">Textarea</label>
        <div class="x-input">
        <textarea name="textarea" id="textarea" cols="30" rows="10"></textarea>
        </div>
      </fieldset>
    </form>
  </article>

  <article>
    <header>
      <h3>Default (Text) Input Control</h3>
    </header>

    <form action="#">
      <fieldset class="x-grid x-fieldset--grid-2">
        <label for="text-input-1">Default</label>

        <div class="x-field">
          <input id="text-input-1" name="text-input-1" class="x-input"/>

          <div slot="help">(Optional)</div>
        </div>

        <label slot="leading" for="text-input-2">Disabled</label>

        <div class="x-field">
          <input id="text-input-2" name="text-input-2" class="x-input" disabled/>

          <div slot="help">(Optional)</div>
        </div>

        <label for="text-input-3">With leading content</label>

        <div class="x-field">
          <div class="x-input">
            <label for="text-input-3" class="leading mds-icon">star</label>
            <input id="text-input-3" name="text-input-3" placeholder="Placeholder"/>
          </div>
        </div>

        <label for="text-input-4">With trailing content</label>

        <div class="x-field">
          <div class="x-input">
            <input id="text-input-4" name="text-input-4" placeholder="Placeholder"/>
            <label for="text-input-4" class="trailing mds-icon">star</label>
          </div>
        </div>

        <label for="text-input-5">Required</label>

        <div class="x-field">
          <input id="text-input-5" name="text-input-5" required class="x-input"/>
        </div>
      </fieldset>

      <fieldset>
        <button type="reset">Reset</button>
        <button>Submit</button>
      </fieldset>
    </form>
  </article>

  <article>
    <header>
      <h3>Input controls without decorators</h3>
    </header>
    <form action="#">
      <fieldset class="x-grid x-fieldset x-fieldset--grid-2">
        ${inputTypes.reduce((agg, type) => {
    const name = `${type}`,
      humanReadableName = type[0].toUpperCase() + type.substring(1);
    return agg +
      `<label for="${name}">${humanReadableName}</label>` +
      `<div><input type="${type}" name="${name}" id="${name}"></div>`
      ;
  }, '')}
      </fieldset>
    </form>
  </article>
`;

  document.body.appendChild(out);
</script>
</body>
</html>
